<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Camera with Snap Camera Kit</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        #camera-container {
            width: 100%;
            height: 100vh;
            position: relative;
        }
        button {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 20px;
            font-size: 16px;
            background-color: #0077ff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="camera-container"></div>
    <button id="change-lens">Сменить линзу</button>

    <script src="https://sdk.snapkit.com/js/v1/create.js"></script>
    <script>
        // Инициализация Snap Camera Kit
        snap.cameraKit.init({
            apiToken: 'eyJhbGciOiJIUzI1NiIsImtpZCI6IkNhbnZhc1MyU0hNQUNQcm9kIiwidHlwIjoiSldUIn0.eyJhdWQiOiJjYW52YXMtY2FudmFzYXBpIiwiaXNzIjoiY2FudmFzLXMyc3Rva2VuIiwibmJmIjoxNzM4NTk5NzY3LCJzdWIiOiJmNDk5OGI1Yi01ZDE1LTQyOGMtYmFjZS00MmE2MmZhMzZmNjN-UFJPRFVDVElPTn5mODBlOThlOC1hZDVjLTQzY2ItYmJkYi05NTI3YmZhN2FlMWEifQ.jjURc3_v_ls5fqBC_s2qXBJ9tOOsSFvP38J5l2ShrRI',
            defaultLens: 'b6a9be0e-7dc8-4666-af18-fa9afec96dc2',
            onReady: () => {
                console.log('Snap Camera Kit is ready!');
                
                // Создание камеры после инициализации
                const cameraView = snap.cameraKit.createCamera({
                    container: document.getElementById('camera-container'),
                    lensId: 'ad336ffe-0a42-45de-b113-b915b46d1b0f',
                    onSuccess: () => {
                        console.log('Camera started successfully!');
                    },
                    onError: (error) => {
                        console.error('Error starting camera:', error);
                    }
                });

                // Кнопка для смены линзы
                const changeLensButton = document.getElementById('change-lens');
                changeLensButton.addEventListener('click', () => {
                    const newLensId = '5448352e-b104-44a8-8fc0-13a43b8d71ac';
                    cameraView.applyLens(newLensId);
                    console.log('Lens changed to:', newLensId);
                });
            },
            onError: (error) => {
                console.error('Error initializing Snap Camera Kit:', error);
            }
        });

        // Инициализация11111 VK SDK (убедитесь, что подключен скрипт VK)
        VK.init({
            apiId: 52997642 // Замените на ваш реальный VK App ID
        });
    </script>
</body>
</html>
