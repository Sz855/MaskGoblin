<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Camera with Snap Camera Kit</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        #camera-container {
            width: 100%;
            height: 100vh;
            position: relative;
        }
        button {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 20px;
            font-size: 16px;
            background-color: #0077ff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="camera-container"></div>
    <button id="change-lens">Сменить линзу</button>

    <script src="https://sdk.snapkit.com/js/v1/create.js"></script>
    <script>
        // Инициализация Snap Camera Kit
        snap.cameraKit.init({
            apiToken: eyJhbGciOiJIUzI1NiIsImtpZCI6IkNhbnZhc1MyU0hNQUNQcm9kIiwidHlwIjoiSldUIn0.eyJhdWQiOiJjYW52YXMtY2FudmFzYXBpIiwiaXNzIjoiY2FudmFzLXMyc3Rva2VuIiwibmJmIjoxNzM4NTk5NzY3LCJzdWIiOiJmNDk5OGI1Yi01ZDE1LTQyOGMtYmFjZS00MmE2MmZhMzZmNjN-UFJPRFVDVElPTn5mODBlOThlOC1hZDVjLTQzY2ItYmJkYi05NTI3YmZhN2FlMWEifQ.jjURc3_v_ls5fqBC_s2qXBJ9tOOsSFvP38J5l2ShrRI
            defaultLens: b6a9be0e-7dc8-4666-af18-fa9afec96dc2 'LENS_ID_1', // Укажите Lens ID по умолчанию
            onReady: () => {
                console.log('Snap Camera Kit is ready!');
            },
            onError: (error) => {
                console.error('Error initializing Snap Camera Kit:', error);
            }
        });

        // Создание камеры
        const cameraView = snap.cameraKit.createCamera({
            container: document.getElementById('camera-container'),
            lensId: 'LENS_ID_1', // Укажите Lens ID по умолчанию
            onSuccess: () => {
                console.log('Camera started successfully!');
            },
            onError: (error) => {
                console.error('Error starting camera:', error);
            }
        });

        // Кнопка для смены линзы
        const changeLensButton = document.getElementById('change-lens');
        changeLensButton.addEventListener('click', () => {
            const newLensId = 5448352e-b104-44a8-8fc0-13a43b8d71ac 'LENS_ID_2'; // Укажите новый Lens ID
            cameraView.applyLens(newLensId);
            console.log('Lens changed to:', newLensId);
        });

        // Инициализация VK SDK
        VK.init({
            apiId: https://vk.com/app52997642 YOUR_VK_APP_ID, // Замените на ваш VK App ID
        });

        // Обработка событий VK
        VK.Widgets.CommunityMessages("vk_community_messages", {
            widgetPosition: "right", // Позиция виджета сообщений
            tooltipButtonText: "Написать нам", // Текст кнопки
            disableButtonTooltip: "Сообщения отключены", // Текст при отключении
        });
    </script>
</body>
</html>